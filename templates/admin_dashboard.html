
<!DOCTYPE html>
<html>
<head>
<title>Admin Dashboard | Isai Mini</title>

<style>
body{
    margin:0;
    font-family:Segoe UI, sans-serif;
    background:linear-gradient(135deg,#87ceeb,#b0e0e6);
}

.container{
    padding:30px;
}

.nav{
    display:flex;
    justify-content:space-between;
    margin-bottom:30px;
}

.nav a{
    text-decoration:none;
    font-weight:700;
    color:#000;
}

.card-row{
    display:flex;
    gap:20px;
    margin-bottom:40px;
}

.card{
    flex:1;
    background:rgba(255,255,255,.65);
    backdrop-filter:blur(14px);
    padding:25px;
    border-radius:20px;
    text-align:center;
    box-shadow:0 15px 30px rgba(0,0,0,.2);
}

h2{
    margin:0;
}

.section{
    margin-bottom:40px;
}

.table{
    width:100%;
    border-collapse:collapse;
    background:rgba(255,255,255,.7);
    border-radius:15px;
    overflow:hidden;
}

.table th, .table td{
    padding:15px;
    text-align:left;
}

.table th{
    background:#eaeaea;
}

.btn{
    padding:6px 12px;
    border-radius:12px;
    text-decoration:none;
    font-weight:700;
    background:#ff2d55;
    color:#fff;
}
</style>
</head>

<body>

<div class="container">

    <div class="nav">
        <h2>Admin Dashboard</h2>
        <a href="/logout">Logout</a>
    </div>

    <div class="card-row">
        <div class="card">
            <h2>{{ total_users }}</h2>
            <p>Total Users</p>
        </div>
        <div class="card">
            <h2>{{ total_songs }}</h2>
            <p>Total Songs</p>
        </div>
        <div class="card">
            <h2>{{ total_playlists }}</h2>
            <p>Total Playlists</p>
        </div>
    </div>

    <div class="section">
        <h3>Users</h3>
        <table class="table">
            <tr>
                <th>Username</th>
                <th>Role</th>
                <th>Action</th>
            </tr>
            {% for u in users %}
            <tr>
                <td>{{ u.username }}</td>
                <td>{{ u.role }}</td>
                <td>
                    {% if u.role != "admin" %}
                    <a class="btn" href="/admin/delete-user/{{ u.id }}">Delete</a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div class="section">
        <h3>Songs</h3>
        <table class="table">
            <tr>
                <th>Title</th>
                <th>Artist</th>
                <th>Action</th>
            </tr>
            {% for s in songs %}
            <tr>
                <td>{{ s.title }}</td>
                <td>{{ s.artist_name }}</td>
                <td>
                    <a class="btn" href="/admin/delete-song/{{ s.id }}">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>

</div>

</body>
</html>
